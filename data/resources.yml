resources:
  - Arc:
      id: std::sync::Arc
      type_params:
        - T
  - Notify:
      id: tokio::sync::Notify
      type_params: []
  - Vec:
      id: std::vec::Vec
      type_params:
        - T
  - HashMap:
      id: std::collections::HashMap
      type_params:
        - K
        - V
  - oneshot_recv:
      id: tokio::sync::oneshot::Reciever
      type_params:
        - T
  - oneshot_send:
      id: tokio::sync::oneshot::Sender
      type_params:
        - T
  - String:
      id: std::string::String
      type_params: []

callables:
  - map:
      id: crate::func::map
      type_params:
        - T
        - V
      ctype: Function
      args:
        - cat: Res
          name: Vec
          type_params:
            - T
      ret:
        - cat: Res
          name: Vec
          type_params:
            - V
      prop:
        type: DontCare

  - Arc_new:
      id: std::sync::Arc::new
      type_params:
        - T
      ctype: Function
      args:
        - cat: Type
          type_param: T
      ret:
        - cat: Res
          name: Arc
          type_params:
            - T
      prop:
        type: Copy
        idx: 1

  - Arc_clone:
      id: std::sync::Arc::clone
      type_params:
        - T
      ctype: Function
      args:
        - cat: Res
          name: Arc
          type_params:
            - T
      ret:
        - cat: Res
          name: Arc
          type_params:
            - T
      prop:
        type: Copy
        idx: 1

  - Notify_new:
      id: tokio::sync::Notify::new
      type_params: []
      ctype: Function
      args: []
      ret:
        - cat: Res
          name: Notify
          type_params: []
      prop:
        type: NoCopy

  - Vec_new:
      id: std::vec::Vec::new
      type_params:
        - T
      ctype: Function
      args: []
      ret:
        - cat: Res
          name: Vec
          type_params:
            - T
      prop:
        type: NoCopy

  - Vec_clone:
      id: std::vec::Vec::clone
      type_params:
        - T
      ctype: Method
      args: []
      ret:
        - cat: Res
          name: Vec
          type_params:
            - T
      prop:
        type: NoCopy

  - oneshot_channel:
      id: tokio::sync::oneshot::channel
      type_params:
        - T
      ctype: Function
      args: []
      ret:
        - cat: Tuple
          members:
            - cat: Res
              name: oneshot_send
              type_params:
                - T
            - cat: Res
              name: oneshot_recv
              type_params:
                - T
      type:
        type: NoCopy

creators:
  - Arc:
      - Arc_new
      - Arc_clone

  - Notify:
      - Notify_new

  - Vec:
      - Vec_clone
      - Vec_new

  - oneshot_send:
      - oneshot_channel

  - oneshot_recv:
      - oneshot_channel

specialize:
  - Arc<HashMap<Vec<usize>, String>>:
      res: Arc
      type_map:
        - T:
            res: HashMap
            type_map:
              - K:
                  res: Vec
                  type_map:
                    - T:
                        res: usize
                        type_map: []
              - V:
                  res: String
                  type_map: []

  - Arc<Notify>:
      res: Arc
      type_map:
        - T:
            res: Notify
            type_map: []

  - Vec<i64>:
      res: Vec
      type_map:
        - T:
            res: i64
            type_map: []

  - oneshot::Sender<i64>:
      res: oneshot_send
      type_map:
        - T:
            res: i64
            type_map: []

  - oneshot::Reciever<i64>:
      res: oneshot_recv
      type_map:
        - T:
            res: i64
            type_map: []
